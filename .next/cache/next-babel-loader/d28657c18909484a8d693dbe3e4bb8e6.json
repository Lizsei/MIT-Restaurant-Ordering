{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/Users/elizabethseidel/Documents/CODING/MODULE_31 capstone/next-restaurant-05-master/pages/_app.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useContext, useState } from \"react\";\nimport Head from \"next/head\";\nimport AppContext from \"../components/context\";\nimport Layout from \"../components/layout\";\n\nfunction MyApp(props) {\n  _s();\n\n  // Initialize both cart and user in the state\n  var _useState = useState({\n    cart: {\n      items: [],\n      total: 0\n    },\n    user: null\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var Component = props.Component,\n      pageProps = props.pageProps; // Function to update the user in the state\n\n  var setUser = function setUser(newUser) {\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        user: newUser\n      });\n    });\n  }; // Function to update messageType in the state\n\n\n  var setMessageType = function setMessageType(type) {\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        messageType: type\n      });\n    });\n  };\n\n  var addItem = function addItem(item) {\n    var items = state.cart.items;\n    var newCart;\n    var foundItem = items.find(function (i) {\n      return i.id === item.id;\n    });\n\n    if (!foundItem) {\n      var temp = _objectSpread(_objectSpread({}, item), {}, {\n        quantity: 1\n      });\n\n      newCart = {\n        items: [].concat(_toConsumableArray(state.cart.items), [temp]),\n        total: state.cart.total + item.price\n      };\n    } else {\n      newCart = {\n        items: items.map(function (item) {\n          return item.id === foundItem.id ? _objectSpread(_objectSpread({}, item), {}, {\n            quantity: item.quantity + 1\n          }) : item;\n        }),\n        total: state.cart.total + item.price\n      };\n    }\n\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        cart: newCart\n      });\n    });\n  };\n\n  var removeItem = function removeItem(item) {\n    var items = state.cart.items;\n    var foundItem = items.find(function (i) {\n      return i.id === item.id;\n    });\n    var newCart;\n\n    if (foundItem.quantity > 1) {\n      newCart = {\n        items: items.map(function (item) {\n          return item.id === foundItem.id ? _objectSpread(_objectSpread({}, item), {}, {\n            quantity: item.quantity - 1\n          }) : item;\n        }),\n        total: state.cart.total - item.price\n      };\n    } else {\n      newCart = {\n        items: items.filter(function (i) {\n          return i.id !== foundItem.id;\n        }),\n        total: state.cart.total - item.price\n      };\n    }\n\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        cart: newCart\n      });\n    });\n  };\n\n  return __jsx(AppContext.Provider, {\n    value: {\n      cart: state.cart,\n      addItem: addItem,\n      removeItem: removeItem,\n      isAuthenticated: Boolean(state.user),\n      user: state.user,\n      setUser: setUser // Make setUser available through context\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\",\n    integrity: \"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\",\n    crossOrigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  })), __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }))));\n}\n\n_s(MyApp, \"KZAuqca9OFU4c+5DaIxJbj84+TY=\");\n\n_c = MyApp;\nexport default MyApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyApp\");","map":{"version":3,"sources":["/Users/elizabethseidel/Documents/CODING/MODULE_31 capstone/next-restaurant-05-master/pages/_app.js"],"names":["useContext","useState","Head","AppContext","Layout","MyApp","props","cart","items","total","user","state","setState","Component","pageProps","setUser","newUser","prevState","setMessageType","type","messageType","addItem","item","newCart","foundItem","find","i","id","temp","quantity","price","map","removeItem","filter","isAuthenticated","Boolean"],"mappings":"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","sourcesContent":["import { useContext, useState } from \"react\";\nimport Head from \"next/head\";\nimport AppContext from \"../components/context\";\nimport Layout from \"../components/layout\";\n\nfunction MyApp(props) {\n  // Initialize both cart and user in the state\n  const [state, setState] = useState({ cart: { items: [], total: 0 }, user: null });\n  const { Component, pageProps } = props;\n\n  // Function to update the user in the state\n  const setUser = (newUser) => {\n    setState(prevState => ({ ...prevState, user: newUser }));\n  };\n\n\n  // Function to update messageType in the state\n  const setMessageType = (type) => {\n    setState(prevState => ({ ...prevState, messageType: type }));\n  };\n\n  const addItem = (item) => {\n    let { items } = state.cart;\n    let newCart;\n    const foundItem = items.find((i) => i.id === item.id);\n    \n    if (!foundItem) {\n      let temp = { ...item, quantity: 1 };\n      newCart = {\n        items: [...state.cart.items, temp],\n        total: state.cart.total + item.price,\n      };\n    } else {\n      newCart = {\n        items: items.map((item) => item.id === foundItem.id\n          ? { ...item, quantity: item.quantity + 1 }\n          : item),\n        total: state.cart.total + item.price,\n      };\n    }\n\n    setState(prevState => ({ ...prevState, cart: newCart }));\n  };\n\n  const removeItem = (item) => {\n    let { items } = state.cart;\n    const foundItem = items.find((i) => i.id === item.id);\n    let newCart;\n    \n    if (foundItem.quantity > 1) {\n      newCart = {\n        items: items.map((item) => item.id === foundItem.id\n          ? { ...item, quantity: item.quantity - 1 }\n          : item),\n        total: state.cart.total - item.price,\n      };\n    } else {\n      newCart = {\n        items: items.filter((i) => i.id !== foundItem.id),\n        total: state.cart.total - item.price,\n      };\n    }\n\n    setState(prevState => ({ ...prevState, cart: newCart }));\n  };\n\n  return (\n    <AppContext.Provider value={{\n      cart: state.cart,\n      addItem: addItem,\n      removeItem: removeItem,\n      isAuthenticated: Boolean(state.user),\n      user: state.user,\n      setUser: setUser // Make setUser available through context\n    }}>\n      <Head>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\"\n          integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\"\n          crossOrigin=\"anonymous\"\n        />\n      </Head>\n    \n      <Layout>\n        <Component {...pageProps} />\n      </Layout>\n    </AppContext.Provider>\n  );\n}\n\nexport default MyApp;\n"]},"metadata":{},"sourceType":"module"}