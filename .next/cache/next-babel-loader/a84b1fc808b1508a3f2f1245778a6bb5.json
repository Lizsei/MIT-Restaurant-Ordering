{"ast":null,"code":"var _jsxFileName = \"/Users/elizabethseidel/Documents/CODING/MODULE_31 capstone/next-restaurant-05-master/pages/_app.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useContext, useState } from \"react\";\nimport Head from \"next/head\";\nimport AppContext from \"../components/context\";\nimport Layout from \"../components/layout\";\n\nfunction MyApp(props) {\n  // Initialize both cart and user in the state\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    cart: {\n      items: [],\n      total: 0\n    },\n    user: null\n  });\n  const {\n    Component,\n    pageProps\n  } = props; // Function to update the user in the state\n\n  const setUser = newUser => {\n    setState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      user: newUser\n    }));\n  };\n\n  const addItem = item => {\n    let {\n      items\n    } = state.cart;\n    let newCart;\n    const foundItem = items.find(i => i.id === item.id);\n\n    if (!foundItem) {\n      let temp = _objectSpread(_objectSpread({}, item), {}, {\n        quantity: 1\n      });\n\n      newCart = {\n        items: [...state.cart.items, temp],\n        total: state.cart.total + item.price\n      };\n    } else {\n      newCart = {\n        items: items.map(item => item.id === foundItem.id ? _objectSpread(_objectSpread({}, item), {}, {\n          quantity: item.quantity + 1\n        }) : item),\n        total: state.cart.total + item.price\n      };\n    }\n\n    setState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      cart: newCart\n    }));\n  };\n\n  const removeItem = item => {\n    let {\n      items\n    } = state.cart;\n    const foundItem = items.find(i => i.id === item.id);\n    let newCart;\n\n    if (foundItem.quantity > 1) {\n      newCart = {\n        items: items.map(item => item.id === foundItem.id ? _objectSpread(_objectSpread({}, item), {}, {\n          quantity: item.quantity - 1\n        }) : item),\n        total: state.cart.total - item.price\n      };\n    } else {\n      newCart = {\n        items: items.filter(i => i.id !== foundItem.id),\n        total: state.cart.total - item.price\n      };\n    }\n\n    setState(prevState => _objectSpread(_objectSpread({}, prevState), {}, {\n      cart: newCart\n    }));\n  };\n\n  return __jsx(AppContext.Provider, {\n    value: {\n      cart: state.cart,\n      addItem: addItem,\n      removeItem: removeItem,\n      isAuthenticated: Boolean(state.user),\n      user: state.user,\n      setUser: setUser // Make setUser available through context\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, __jsx(\"link\", {\n    rel: \"stylesheet\",\n    href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\",\n    integrity: \"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\",\n    crossOrigin: \"anonymous\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })), __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }))));\n}\n\nexport default MyApp;","map":{"version":3,"sources":["/Users/elizabethseidel/Documents/CODING/MODULE_31 capstone/next-restaurant-05-master/pages/_app.js"],"names":["useContext","useState","Head","AppContext","Layout","MyApp","props","state","setState","cart","items","total","user","Component","pageProps","setUser","newUser","prevState","addItem","item","newCart","foundItem","find","i","id","temp","quantity","price","map","removeItem","filter","isAuthenticated","Boolean"],"mappings":"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","sourcesContent":["import { useContext, useState } from \"react\";\nimport Head from \"next/head\";\nimport AppContext from \"../components/context\";\nimport Layout from \"../components/layout\";\n\nfunction MyApp(props) {\n  // Initialize both cart and user in the state\n  const [state, setState] = useState({ cart: { items: [], total: 0 }, user: null });\n  const { Component, pageProps } = props;\n\n  // Function to update the user in the state\n  const setUser = (newUser) => {\n    setState(prevState => ({ ...prevState, user: newUser }));\n  };\n\n  const addItem = (item) => {\n    let { items } = state.cart;\n    let newCart;\n    const foundItem = items.find((i) => i.id === item.id);\n    \n    if (!foundItem) {\n      let temp = { ...item, quantity: 1 };\n      newCart = {\n        items: [...state.cart.items, temp],\n        total: state.cart.total + item.price,\n      };\n    } else {\n      newCart = {\n        items: items.map((item) => item.id === foundItem.id\n          ? { ...item, quantity: item.quantity + 1 }\n          : item),\n        total: state.cart.total + item.price,\n      };\n    }\n\n    setState(prevState => ({ ...prevState, cart: newCart }));\n  };\n\n  const removeItem = (item) => {\n    let { items } = state.cart;\n    const foundItem = items.find((i) => i.id === item.id);\n    let newCart;\n    \n    if (foundItem.quantity > 1) {\n      newCart = {\n        items: items.map((item) => item.id === foundItem.id\n          ? { ...item, quantity: item.quantity - 1 }\n          : item),\n        total: state.cart.total - item.price,\n      };\n    } else {\n      newCart = {\n        items: items.filter((i) => i.id !== foundItem.id),\n        total: state.cart.total - item.price,\n      };\n    }\n\n    setState(prevState => ({ ...prevState, cart: newCart }));\n  };\n\n  return (\n    <AppContext.Provider value={{\n      cart: state.cart,\n      addItem: addItem,\n      removeItem: removeItem,\n      isAuthenticated: Boolean(state.user),\n      user: state.user,\n      setUser: setUser // Make setUser available through context\n    }}>\n      <Head>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\"\n          integrity=\"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm\"\n          crossOrigin=\"anonymous\"\n        />\n      </Head>\n    \n      <Layout>\n        <Component {...pageProps} />\n      </Layout>\n    </AppContext.Provider>\n  );\n}\n\nexport default MyApp;"]},"metadata":{},"sourceType":"module"}